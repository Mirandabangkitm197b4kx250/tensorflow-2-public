<html>
<head></head>
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script lang="js">
        
        async function run(){
            const trainingUrl = '/data/wdbc-train.csv';
            
            // Take a look at the 'wdbc-train.csv' file and specify the column
            // that should be treated as the label in the space below.
            // HINT: Remember that you are trying to build a classifier that 
            // can predict from the data whether the diagnosis is malignant or benign.
            const trainingData = tf.data.csv(trainingUrl, {
                columnConfigs: {
                    diagnosis: { isLabel: true }
                }
            });

            // Convert the training data into arrays in the space below.
            // Note: In this case, the labels are integers, not strings.
            // Therefore, there is no need to convert string labels into
            // a one-hot encoded array of label values like we did in the
            // Iris dataset example. 
            const convertedTrainingData = // YOUR CODE HERE

            const convertedTrainingData = trainingData.map(({ xs, ys }) => {
                return {
                    xs: Object.values(xs),
                    ys: Object.values(ys)
                };
            }).batch(32);

            const testingUrl = '/data/wdbc-test.csv';
            

            // Take a look at the 'wdbc-test.csv' file and specify the column
            // that should be treated as the label in the space below..
            // HINT: Remember that you are trying to build a classifier that 
            // can predict from the data whether the diagnosis is malignant or benign.
            const testingData = tf.data.csv(testingUrl, {
                
                // YOUR CODE HERE

               columnConfigs: {
                    diagnosis: { isLabel: true }
                }
            });

            // Convert the testing data into arrays in the space below.
            // Note: In this case, the labels are integers, not strings.
            // Therefore, there is no need to convert string labels into
            // a one-hot encoded array of label values like we did in the
            // Iris dataset example. 
            const convertedTestingData = // YOUR CODE HERE

            const convertedTestingData = testingData.map(({ xs, ys }) => {
                return {
                    xs: Object.values(xs),
                    ys: Object.values(ys)
                };
            }).batch(32); 

            // Specify the number of features in the space below.
            // HINT: You can get the number of features from the number of columns
            // and the number of labels in the training data. 
            const numOfFeatures = // YOUR CODE HERE
            const numOfFeatures = 30; 



            // In the space below create a neural network that predicts 1 if the diagnosis is malignant
@@ -58,15 +68,34 @@
            // using ReLu activation functions where applicable. For this dataset only a few
            // hidden layers should be enough to get a high accuracy.  
            const model = tf.sequential();

            // YOUR CODE HERE



            // Input layer dan hidden layer pertama
            model.add(tf.layers.dense({
                inputShape: [numOfFeatures], // Sesuaikan jumlah fitur
                units: 16,
                activation: 'relu'
            }));

            // Hidden layer kedua
            model.add(tf.layers.dense({
                units: 8,
                activation: 'relu'
            }));

            // Output layer
            model.add(tf.layers.dense({
                units: 1,
                activation: 'sigmoid' // Aktivasi sigmoid untuk output biner
            }));


            // Compile the model using the binaryCrossentropy loss, 
            // the rmsprop optimizer, and accuracy for your metrics. 
            model.compile(// YOUR CODE HERE);

            model.compile({
                loss: 'binaryCrossentropy',
                optimizer: 'rmsprop',
                metrics: ['accuracy']
            });

            await model.fitDataset(convertedTrainingData, 
                             {epochs:100,
@@ -82,4 +111,5 @@
    </script>
<body>
</body>
</html>
</html>
</html>
